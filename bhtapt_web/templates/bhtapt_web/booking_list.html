{% extends 'bhtapt_web/index.html' %}

{% block nav %}

<nav class="navbar bg-light navbar-light">
    <a href="{% url 'appartment:dashboard' %}" class="navbar-brand mx-4 mb-3">
        <h3 class="text-primary"><i class="fa fa-hashtag me-2"></i>Bin Hariz</h3>
    </a>
    <div class="d-flex align-items-center ms-4 mb-4">
        <div class="position-relative">
           
        </div>
        <div class="ms-3">
            <h6 class="mb-0">{{request.user}}</h6>
            <span>Admin</span>
        </div>
    </div>
    <div class="navbar-nav w-100">
        <a href="{% url 'appartment:dashboard' %}" class="nav-item nav-link "><i
                class="fa fa-tachometer-alt me-2"></i>Dashboard</a>
        <a href="{% url 'appartment:list_rooms' %}" class="nav-item nav-link"><i class="fa fa-th me-2"></i>Rooms</a>
        <a href="{% url 'appartment:list_floors' %}" class="nav-item nav-link "><i class="fa fa-keyboard me-2"></i>Floors</a>
        <a href="{% url 'appartment:list_category' %}" class="nav-item nav-link "><i class="fa fa-table me-2"></i>Categories</a>
        <a href="{% url 'appartment:cashbook' %}" class="nav-item nav-link"><i class="fa fa-archive me-2"></i>Cash Book</a>
        <a href="{% url 'appartment:bookingslist' %}" class="nav-item nav-link active"><i class="fa fa-chart-bar me-2"></i>Bookings</a>
        <a href="{% url 'appartment:cashreciept_list' %}" class="nav-item nav-link"><i class="fa fa-receipt me-2"></i>Cash Reciepts</a>
        <!-- <a href="chart.html" class="nav-item nav-link"><i class="fa fa-chart-bar me-2"></i>Cash Payments</a> -->


    </div>
</nav>
{% endblock %}

{% block content %}
<div class="container-fluid pt-4 px-4">
    <div class="bg-light text-center rounded p-4">
        <div class="d-flex align-items-center justify-content-between mb-4">
            <h6 class="mb-0">Rooms</h6>
            <a class="btn btn-sm btn-success p-2" href="{% url 'appartment:add_room' %}">Add Room</a>
        </div>
        <div class="table-responsive">
            <table class="table text-start align-middle table-bordered table-hover mb-0" style="text-align: center;">
                <thead class="text-center">
                    <tr class="text-dark " >
                        <th scope="col">Entry No</th>
                        <th scope="col">Customer</th>
                        <th scope="col">Room</th>
                        <th scope="col">Status</th>
                        <th scope="col">Type</th>
                        <th scope="col">Check IN</th>
                        <th scope="col">Check Out</th>
                        <th scope="col">Action</th>
                    </tr>
                </thead>
                <tbody class="text-center">
                    {% for booking in page_obj %}

                    <tr>
                        <td>{{ booking.id }}</td>
                        <td>{{ booking.customer_name }}</td>
                        <td>{{ booking.room.room_number}}</td>
                        <td>{{ booking.get_status_display}}</td>
                        <td>{{ booking.get_booking_type_display }}</td>
                        <td>{{ booking.check_in_date }}</td>
                        <td>{% if booking.status == '3' %} {{ booking.check_out_date }} {% else %}  {{ booking.expected_checkout_date }} {% endif %} </td>

                        



                        <!-- <td>Jhon Doe</td> -->
                        <!-- <td><img src="{{ catagory.category_image.url }}" height="100px" width="100px" alt="" srcset=""></td> -->
                        
                        <td><a class="btn btn-sm btn-primary" href="{% url 'appartment:bookingdetail' booking.id %}">Details</a>
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
</div>
<div class="btn-group float-end me-5" >
    {% if page_obj.has_previous %}
        <a class="btn btn-info" href="?page={{ page_obj.previous_page_number }}">previous</a>
    {% endif %}

    <span class="text-danger">{{ page_obj.number }}</span>

    {% if page_obj.has_next %}
        <a class="btn btn-info" href="?page={{ page_obj.next_page_number }}">next</a>
    {% endif %}
</div>




    {% endblock %}